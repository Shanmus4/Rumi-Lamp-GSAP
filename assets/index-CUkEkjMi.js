(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function c(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(e){if(e.ep)return;e.ep=!0;const n=c(e);fetch(e.href,n)}})();const{gsap:t,MorphSVGPlugin:U,Draggable:v}=window;t.registerPlugin(U,v);const i={CLICK:new Audio("https://assets.codepen.io/605876/click.mp3"),BUZZ:new Audio("https://assets.codepen.io/16327/flicker_1.mp3")};i.BUZZ.load();i.CLICK.load();const u={ON:!1},C=.1,r=document.querySelectorAll(".toggle-scene__cord"),p=document.querySelector(".toggle-scene__hit-spot"),d=document.querySelector(".toggle-scene__dummy-cord"),m=document.querySelector(".toggle-scene__dummy-cord line"),O=document.createElement("div"),y=m.getAttribute("x2"),f=m.getAttribute("y2"),g=()=>{t.set(O,{x:y,y:f})};g();t.set(d,{display:"none"});t.set(r[0],{display:"block"});const x=t.timeline({paused:!0,onStart:()=>{u.ON=!u.ON,t.set(document.documentElement,{"--on":u.ON?1:0});const o=document.getElementById("favicon"),s=document.querySelector(".flicker-overlay");window.flickerTimeline&&window.flickerTimeline.kill(),t.killTweensOf(i.BUZZ),u.ON?(document.body.classList.add("light-on"),document.title="Light is On",o.href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚òÄÔ∏è</text></svg>",i.CLICK.currentTime=0,i.CLICK.play().catch(c=>console.log("Click fail",c)),i.BUZZ.volume=1,i.BUZZ.currentTime=0,i.BUZZ.play().catch(c=>console.log("Buzz failed - interaction needed?",c)),window.flickerTimeline=t.timeline({onComplete:()=>{t.to(i.BUZZ,{volume:0,duration:1.5,onComplete:()=>{i.BUZZ.pause(),i.BUZZ.volume=1}})}}),window.flickerTimeline.set(s,{opacity:.6}).set(s,{opacity:.1},"+=0.12").set(s,{opacity:.7},"+=0.08").set(s,{opacity:.65},"+=0.15").set(s,{opacity:.2},"+=0.08").set(s,{opacity:0},"+=0.2")):(document.body.classList.remove("light-on"),document.title="Light is Off",o.href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåë</text></svg>",i.BUZZ.pause(),i.BUZZ.currentTime=0,i.BUZZ.volume=1,i.CLICK.currentTime=0,i.CLICK.play().catch(c=>console.log("Click fail",c)),t.set(s,{opacity:0})),t.set([d,p],{display:"none"}),t.set(r[0],{display:"block"})},onComplete:()=>{t.set([d,p],{display:"block"}),t.set(r[0],{display:"block"}),t.set(d,{display:"none"}),g()}});for(let o=1;o<r.length;o++)x.add(t.to(r[0],{morphSVG:r[o],duration:C,repeat:1,yoyo:!0}));v.create(O,{trigger:p,type:"x,y",onPress:o=>{L=o.x||o.clientX,Z=o.y||o.clientY,t.set(r[0],{display:"none"}),t.set(d,{display:"block"})},onDrag:function(){const s=parseFloat(y),c=parseFloat(f);let l=this.x,e=this.y;const n=l-s,a=e-c,h=Math.sqrt(n*n+a*a);if(h>200){const w=200/h;l=s+n*w,e=c+a*w}t.set(m,{attr:{x2:l,y2:e}})},onRelease:function(o){const s=o.x||o.clientX,c=o.y||o.clientY,l=Math.abs(s-L),e=Math.abs(c-Z),n=Math.sqrt(l*l+e*e);t.to(m,{attr:{x2:y,y2:f},duration:C,onComplete:()=>{n>50?x.restart():(g(),t.set(d,{display:"none"}),t.set(r[0],{display:"block"}))}})}});let L,Z;
