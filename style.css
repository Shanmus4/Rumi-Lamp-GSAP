:root {
  --on: 0;
  /* Cord colors - constant grey as requested */
  --cord: #999999;
}

* {
  box-sizing: border-box;
}

html {
  height: 100%;
  /* Prevent zoom on mobile */
  touch-action: manipulation;
}

body {
  height: 100%;
  min-height: 100vh;
  min-height: -webkit-fill-available; /* iOS Safari fix */
  margin: 0;
  display: flex;
  align-items: flex-start; /* changed from center to allow cord at top */
  justify-content: center;
  background-color: #222; /* Fallback */
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  background-attachment: fixed; /* Ensures background covers viewport on mobile */
  /* Remove transition to allow sharp flicker */
  transition: none; 
  overflow: hidden; /* Prevent scrollbars */
  /* Prevent zoom on double-tap */
  touch-action: manipulation;
}

.flicker-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: black;
  opacity: 0;
  pointer-events: none;
  z-index: 5; /* Below cord, above background */
}

/* Background Logic */
/* Desktop (default) */
body {
  background-image: url("./Desktop View Lamp Off.png");
}

body.light-on {
  background-image: url("./Desktop View Lamp On.png");
}

/* Mobile */
/* Global Toggle Scene Styles */
.toggle-scene {
  overflow: visible !important;
  height: 50vmin;
  position: absolute;
  top: -3px; /* Ensure strictly no gap at top */
  left: auto;
  right: 50px; /* 50px from right as requested */
  transform: none;
  z-index: 10;
  display: block; /* Remove inline-svg gaps */
}

/* Mobile */
@media (max-width: 768px) {
  body {
    background-image: url("./Mobile View Lamp Off.png");
  }

  body.light-on {
    background-image: url("./Mobile View Lamp On.png");
  }

  .toggle-scene {
    left: 94%; /* Moved further right (was 90%) */
    right: auto; /* Unset right */
    transform: translateX(-50%) scale(2.2); /* Center on 94% line and scale 2.2x */
    transform-origin: top center; /* Scale from the center point */
  }
}



.toggle-scene__cord {
  stroke: #b0b0b0; /* Light grey solid color for visibility */
  cursor: move; /* fallback */
  cursor: grab;
  /* No outer shadow as requested */
  opacity: 1;
}

.toggle-scene__cord:active {
  cursor: grabbing;
}

/* Hide morph targets by default */
.toggle-scene__cord:nth-of-type(1) {
  display: block; /* The main cord */
}

/* The other cords are morph targets, hide them */
.toggle-scene__cord:nth-of-type(2),
.toggle-scene__cord:nth-of-type(3),
.toggle-scene__cord:nth-of-type(4),
.toggle-scene__cord:nth-of-type(5) {
  display: none;
}

.toggle-scene__cord-end {
  /* Removed flat colors so SVG gradient can shine through */
  stroke: none; /* Let SVG handle stroke */
  /* Fill is handled by SVG gradient */
}

.toggle-scene__dummy-cord {
  stroke-width: 4;
  stroke: var(--cord);
  display: none; /* Hidden by default, shown by JS */
}

.toggle-scene__hit-spot {
  cursor: grab;
}

.toggle-scene__hit-spot:active {
  cursor: grabbing;
}
